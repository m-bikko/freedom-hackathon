# Система рекомендаций для Freedom Ticketon

## Краткое описание подхода и гипотез

В решении задачи прогнозирования посещения мероприятий пользователями был использован гибридный подход, сочетающий несколько стратегий:

### Общий подход

1. **Анализ предпочтений пользователей** - выявление жанров и типов мероприятий, которые пользователь посещал ранее
2. **Временные паттерны посещений** - анализ предпочтительных дней недели для каждого пользователя
3. **Частотный анализ** - учет того, как часто пользователь в среднем посещает мероприятия
4. **Географические предпочтения** - учет предпочтений пользователей по городам
5. **Популярность для холодного старта** - использование общей и городской популярности для новых пользователей

### Ключевые гипотезы

1. **Жанровые и типовые предпочтения**: Пользователи предпочитают мероприятия определенных жанров и типов, которые можно выявить из исторических данных.

2. **Предпочтения по дням недели**: У пользователей есть устойчивые предпочтения по дням недели, в которые они посещают мероприятия.

3. **Частота посещений влияет на рекомендации**: Частые посетители больше ценят соответствие их предпочтениям, в то время как редкие посетители больше ориентируются на популярные мероприятия.

4. **Городская специфика**: Пользователи с большей вероятностью посетят мероприятие в своем городе, особенно если оно соответствует их жанровым предпочтениям.

5. **Холодный старт**: Для пользователей с малым количеством или отсутствием исторических данных популярность мероприятия является ключевым фактором для рекомендации.

## Как запустить анализ гипотез

### Установка необходимых библиотек

```bash
# Создание виртуального окружения (опционально)
python -m venv ticketon_env
source ticketon_env/bin/activate  # На Windows: ticketon_env\Scripts\activate

# Установка необходимых библиотек
pip install pandas numpy matplotlib seaborn tqdm jupyter
```

### Запуск анализа гипотез

1. Запустите Jupyter Notebook:
```bash
jupyter notebook
```

2. Откройте файл `hypotheses_analysis_optimized.ipynb` в браузере.

3. Выполните ячейки последовательно, нажимая кнопку "Run" или используя сочетание клавиш Shift+Enter.

### Результаты анализа

В процессе выполнения ноутбука будут созданы визуализации для каждой гипотезы, которые сохраняются в файлах PNG в текущем каталоге.

## Запуск модели рекомендаций

Для запуска полной модели рекомендаций и генерации прогнозов:

1. Убедитесь, что все необходимые библиотеки установлены:
```bash
pip install pandas numpy matplotlib tqdm
```

2. Запустите Jupyter Notebook:
```bash
jupyter notebook
```

3. Откройте файл `toSendAnalysis.ipynb` в браузере.

4. Выполните ячейки последовательно для генерации прогнозов.

Результатом выполнения будет файл `ticketon_result.csv` с прогнозами мероприятий для пользователей на апрель 2024 года.

### Отслеживание прогресса

В ноутбуке реализовано отображение прогресса выполнения и маркеры окончания каждой ячейки ("Cell ended!"), что позволяет контролировать процесс обработки данных и генерации рекомендаций.